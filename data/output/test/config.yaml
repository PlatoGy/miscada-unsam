ADE20K:
  DATALOADER: {ASPECT_RATIO_GROUPING: true, FILTER_EMPTY_ANNOTATIONS: false, LOAD_PROPOSALS: false, NUM_WORKERS: 8, SAMPLER_TRAIN: TrainingSampler}
  DATASET: {DATASET: ade}
  INPUT:
    COLOR_AUG_SSD: true
    CROP:
      ENABLED: true
      SINGLE_CATEGORY_MAX_AREA: 1.0
      SIZE: [640, 640]
      TYPE: absolute
    DATASET_MAPPER_NAME: mask_former_panoptic
    FORMAT: RGB
    IGNORE_VALUE: 255
    MASK_FORMAT: polygon
    MAX_SIZE_TEST: 2560
    MAX_SIZE_TRAIN: 2560
    MIN_SIZE_TEST: 640
    MIN_SIZE_TRAIN: [320, 384, 448, 512, 576, 640, 704, 768, 832, 896, 960, 1024, 1088, 1152, 1216, 1280]
    MIN_SIZE_TRAIN_SAMPLING: choice
    SIZE_DIVISIBILITY: 640
  TEST:
    AUG: {ENABLED: false}
    BATCH_SIZE_TOTAL: 8
    DETECTIONS_PER_IMAGE: 100
    IOU_TYPE: [bbox, segm]
    MODEL_FILE: ''
    NAME: coco_eval
    USE_MULTISCALE: false
  TRAIN: {ASPECT_RATIO_GROUPING: true, BATCH_SIZE_PER_GPU: 2, BATCH_SIZE_TOTAL: 16, SHUFFLE: true}
BDD:
  DATALOADER: {ASPECT_RATIO_GROUPING: false, FILTER_EMPTY_ANNOTATIONS: false, LOAD_PROPOSALS: false, NUM_WORKERS: 0, SAMPLER_TRAIN: TrainingSampler}
  INPUT:
    MAX_SIZE_TEST: 1333
    MIN_SIZE_TEST: 800
    PIXEL_MEAN: [123.675, 116.28, 103.53]
    PIXEL_STD: [58.395, 57.12, 57.375]
  TEST: {BATCH_SIZE_TOTAL: 8}
CITY:
  INPUT:
    COLOR_AUG_SSD: true
    CROP:
      ENABLED: true
      SINGLE_CATEGORY_MAX_AREA: 1.0
      SIZE: [512, 1024]
      TYPE: absolute
    DATALOADER: {ASPECT_RATIO_GROUPING: true, FILTER_EMPTY_ANNOTATIONS: true, LOAD_PROPOSALS: false, NUM_WORKERS: 2, SAMPLER_TRAIN: TrainingSampler}
    DATASET_MAPPER_NAME: mask_former_panoptic
    FORMAT: RGB
    IGNORE_VALUE: 255
    MASK_FORMAT: polygon
    MAX_SIZE_TEST: 2048
    MAX_SIZE_TRAIN: 4096
    MIN_SIZE_TEST: 1024
    MIN_SIZE_TRAIN: [512, 614, 716, 819, 921, 1024, 1126, 1228, 1331, 1433, 1536, 1638, 1740, 1843, 1945, 2048]
    MIN_SIZE_TRAIN_SAMPLING: choice
    SIZE_DIVISIBILITY: -1
    TEST:
      AUG:
        ENABLED: false
        FLIP: true
        MAX_SIZE: 4096
        MIN_SIZES: [512, 768, 1024, 1280, 1536, 1792]
      BATCH_SIZE_TOTAL: 1
      EVAL_PERIOD: 5000
    TRAIN: {ASPECT_RATIO_GROUPING: true, BATCH_SIZE_PER_GPU: 2, BATCH_SIZE_TOTAL: 2, SHUFFLE: true}
COCO:
  DATALOADER: {ASPECT_RATIO_GROUPING: true, FILTER_EMPTY_ANNOTATIONS: false, LOAD_PROPOSALS: false, NUM_WORKERS: 2, SAMPLER_TRAIN: TrainingSampler}
  DATASET: {DATASET: coco}
  INPUT:
    COLOR_AUG_SSD: false
    CROP: {ENABLED: true}
    DATASET_MAPPER_NAME: coco_interactive_panoptic_lsj
    FORMAT: RGB
    IGNORE_VALUE: 255
    IMAGE_SIZE: 1024
    MASK_FORMAT: polygon
    MAX_SCALE: 2.0
    MAX_SIZE_TEST: 1333
    MIN_SCALE: 0.1
    MIN_SIZE_TEST: 800
    RANDOM_FLIP: horizontal
    SIZE_DIVISIBILITY: 32
  TEST:
    AUG: {ENABLED: false}
    BATCH_SIZE_TOTAL: 1
    DETECTIONS_PER_IMAGE: 100
    IOU_TYPE: [bbox, segm]
    MODEL_FILE: ''
    NAME: coco_eval
    USE_MULTISCALE: false
  TRAIN: {BATCH_SIZE_PER_GPU: 1, BATCH_SIZE_TOTAL: 1, SHUFFLE: true}
DATALOADER: {ASPECT_RATIO_GROUPING: true, FILTER_EMPTY_ANNOTATIONS: false, LOAD_PROPOSALS: false, NUM_WORKERS: 16, SAMPLER_TRAIN: TrainingSampler}
DATASETS:
  CLASS_CONCAT: false
  PROPOSAL_FILES_TRAIN: []
  SIZE_DIVISIBILITY: 32
  TEST: [coco_2017_val_panoptic_with_sem_seg_interactive_jointboxpoint]
  TRAIN: [sam_train]
INPUT:
  PIXEL_MEAN: [123.675, 116.28, 103.53]
  PIXEL_STD: [58.395, 57.12, 57.375]
LOADER: {JOINT: true, KEY_DATASET: coco}
MODEL:
  BACKBONE:
    LOAD_PRETRAINED: true
    NAME: swin
    PRETRAINED: /home/mktd44/project/UnSAM/pretrained/moby_swin_t_300ep_pretrained.pth
    SWIN:
      APE: false
      ATTN_DROP_RATE: 0.0
      DEPTHS: [2, 2, 6, 2]
      DROP_PATH_RATE: 0.3
      DROP_RATE: 0.0
      EMBED_DIM: 96
      MLP_RATIO: 4.0
      NUM_HEADS: [3, 6, 12, 24]
      OUT_FEATURES: [res2, res3, res4, res5]
      PATCH_NORM: true
      PATCH_SIZE: 4
      PRETRAIN_IMG_SIZE: 224
      QKV_BIAS: true
      QK_SCALE: null
      USE_CHECKPOINT: false
      WINDOW_SIZE: 7
  BACKBONE_DIM: 768
  BACKGROUND: false
  DECODER:
    BOX: true
    BOX_WEIGHT: 5.0
    CAPTION: {ENABLED: false, PHRASE_PROB: 0.0, SIM_THRES: 0.95}
    CAPTIONING: {ENABLED: false, STEP: 50}
    CLASS_WEIGHT: 4.0
    COCO: false
    COST_BOX_WEIGHT: 5.0
    COST_CLASS_WEIGHT: 4.0
    COST_DICE_WEIGHT: 5.0
    COST_GIOU_WEIGHT: 2.0
    COST_MASK_WEIGHT: 5.0
    DEC_LAYERS: 9
    DEEP_SUPERVISION: true
    DICE_WEIGHT: 5.0
    DIM_FEEDFORWARD: 2048
    DN: seg
    DN_NOISE_SCALE: 0.4
    DN_NUM: 100
    DROPOUT: 0.0
    ENC_LAYERS: 0
    ENFORCE_INPUT_PROJ: false
    GIOU_WEIGHT: 2.0
    GROUNDING: {CLASS_WEIGHT: 0.5, ENABLED: false, MAX_LEN: 5, TEXT_WEIGHT: 2.0}
    HIDDEN_DIM: 256
    IMPORTANCE_SAMPLE_RATIO: 0.75
    INITIALIZE_BOX_TYPE: 'no'
    INITIAL_PRED: false
    IOU_WEIGHT: 1.0
    LEARN_TGT: false
    MASK: true
    MASK_WEIGHT: 5.0
    MAX_NUM_INSTANCE: 60
    NAME: interactive_mask_dino
    NHEADS: 8
    NO_OBJECT_WEIGHT: 0.1
    NUM_INTERACTIVE_TOKENS: 6
    NUM_OBJECT_QUERIES: 0
    O365: false
    OPENIMAGE:
      ENABLED: false
      GROUNDING: {ENABLED: false, MAX_LEN: 5}
      NEGATIVE_SAMPLES: 5
    OVERSAMPLE_RATIO: 3.0
    PANO_BOX_LOSS: false
    PART: true
    PASCAL: false
    PRE_NORM: false
    RETRIEVAL: {DIM_IMG: 768, ENABLED: false, ENSEMBLE: true}
    RE_POINT: true
    SAM: true
    SEMANTIC_CE_LOSS: false
    SIZE_DIVISIBILITY: 32
    TEST: {BOX_INTERACTIVE: false, CLASSIFICATION_ON: false, INSTANCE_ON: true, OBJECT_MASK_THRESHOLD: 0, OVERLAP_THRESHOLD: 0.8, PANOPTIC_ON: true, PANO_TEMPERATURE: 0.06, PANO_TRANSFORM_EVAL: true, SEMANTIC_ON: true, SEM_SEG_POSTPROCESSING_BEFORE_INFERENCE: false, TEST_FOUCUS_ON_BOX: false}
    TOTAL_NUM_FEATURE_LEVELS: 4
    TRAIN_NUM_POINTS: 12544
    TRANSFORMER_IN_FEATURE: multi_scale_pixel_decoder
    TWO_STAGE: false
  DIM_PROJ: 512
  ENCODER:
    COMMON_STRIDE: 4
    CONVS_DIM: 256
    DEFORMABLE_TRANSFORMER_ENCODER_IN_FEATURES: [res3, res4, res5]
    FEATURE_ORDER: low2high
    IGNORE_VALUE: 255
    IN_FEATURES: [res2, res3, res4, res5]
    LOSS_WEIGHT: 1.0
    MASK_DIM: 256
    NAME: encoder_deform
    NORM: GN
    NUM_CLASSES: 1
    NUM_FEATURE_LEVELS: 3
    TOTAL_NUM_FEATURE_LEVELS: 4
    TRANSFORMER_ENC_LAYERS: 6
  HEAD: general_head
  KEYPOINT_ON: false
  LOAD_PROPOSALS: false
  MASK_ON: false
  NAME: interactive_mask_dino
  TEXT: {ARCH: noencoder, AUTOGRESSIVE: true, CONTEXT_LENGTH: 18, HEADS: 8, LAYERS: 12, NAME: transformer, TOKENIZER: clip, WIDTH: 512}
  WEIGHTS: ''
OUTPUT_DIR: data/output/test
PORT: 53711
PSACAL_PART:
  DATALOADER: {ASPECT_RATIO_GROUPING: true, FILTER_EMPTY_ANNOTATIONS: false, LOAD_PROPOSALS: false, NUM_WORKERS: 2, SAMPLER_TRAIN: TrainingSampler}
  INPUT:
    COLOR_AUG_SSD: false
    CROP: {ENABLED: true}
    DATASET_MAPPER_NAME: pascal_part_lsj
    FORMAT: RGB
    IGNORE_VALUE: 255
    IMAGE_SIZE: 1024
    MASK_FORMAT: polygon
    MAX_SCALE: 2.0
    MAX_SIZE_TEST: 1333
    MIN_SCALE: 0.1
    MIN_SIZE_TEST: 800
    RANDOM_FLIP: horizontal
    SIZE_DIVISIBILITY: 32
  MODEL: {KEYPOINT_ON: false, LOAD_PROPOSALS: false, MASK_ON: true}
  TEST:
    AUG: {ENABLED: false}
    BATCH_SIZE_TOTAL: 8
    DETECTIONS_PER_IMAGE: 100
    IOU_TYPE: [bbox, segm]
    MODEL_FILE: ''
    NAME: coco_eval
    USE_MULTISCALE: false
  TRAIN: {BATCH_SIZE_PER_GPU: 1, BATCH_SIZE_TOTAL: 1, SHUFFLE: true}
REF:
  DATALOADER: {ASPECT_RATIO_GROUPING: false, FILTER_EMPTY_ANNOTATIONS: false, LOAD_PROPOSALS: false, NUM_WORKERS: 0, SAMPLER_TRAIN: TrainingSampler}
  INPUT:
    FORMAT: RGB
    MAX_SIZE_TEST: 1024
    MIN_SIZE_TEST: 512
    PIXEL_MEAN: [123.675, 116.28, 103.53]
    PIXEL_STD: [58.395, 57.12, 57.375]
  TEST: {BATCH_SIZE_TOTAL: 8}
SAM:
  DATALOADER: {ASPECT_RATIO_GROUPING: true, FILTER_EMPTY_ANNOTATIONS: false, LOAD_PROPOSALS: false, NUM_WORKERS: 4, SAMPLER_TRAIN: TrainingSampler}
  DATASET: {DATASET: sam}
  INPUT:
    COLOR_AUG_SSD: false
    CROP: {ENABLED: true}
    DATASET_MAPPER_NAME: sam
    FORMAT: RGB
    IGNORE_VALUE: 255
    IMAGE_SIZE: 1024
    MASK_FORMAT: polygon
    MAX_SCALE: 1.01
    MAX_SIZE_TEST: 1333
    MIN_SCALE: 0.99
    MIN_SIZE_TEST: 800
    RANDOM_FLIP: horizontal
    SIZE_DIVISIBILITY: 32
  TEST:
    AUG: {ENABLED: false}
    BATCH_SIZE_TOTAL: 8
    DETECTIONS_PER_IMAGE: 100
    IOU_TYPE: [bbox, segm]
    MODEL_FILE: ''
    NAME: coco_eval
    USE_MULTISCALE: false
  TRAIN: {BATCH_SIZE_PER_GPU: 1, BATCH_SIZE_TOTAL: 1, SHUFFLE: true}
SCAN:
  DATALOADER: {ASPECT_RATIO_GROUPING: false, FILTER_EMPTY_ANNOTATIONS: false, LOAD_PROPOSALS: false, NUM_WORKERS: 0, SAMPLER_TRAIN: TrainingSampler}
  INPUT:
    MAX_SIZE_TEST: 1024
    MIN_SIZE_TEST: 512
    PIXEL_MEAN: [123.675, 116.28, 103.53]
    PIXEL_STD: [58.395, 57.12, 57.375]
  TEST: {BATCH_SIZE_TOTAL: 8}
SOLVER:
  AMP: {ENABLED: true}
  BASE_LR: 0.0001
  BASE_LR_END: 0.0
  BIAS_LR_FACTOR: 1.0
  CHECKPOINT_PERIOD: 5000
  CLIP_GRADIENTS: {CLIP_TYPE: full_model, CLIP_VALUE: 0.01, ENABLED: true, NORM_TYPE: 2.0}
  GAMMA: 0.1
  IMS_PER_BATCH: 1
  LR_MULTIPLIER: {backbone: 0.1, lang_encoder: 0.1}
  LR_SCHEDULER_NAME: WarmupMultiStepLR
  MAX_ITER: 400000
  MOMENTUM: 0.9
  NESTEROV: false
  OPTIMIZER: ADAMW
  REFERENCE_WORLD_SIZE: 0
  STEPS: [355552, 385184]
  WARMUP_FACTOR: 1.0
  WARMUP_ITERS: 10
  WARMUP_METHOD: linear
  WEIGHT_DECAY: 0.05
  WEIGHT_DECAY_BIAS: None
  WEIGHT_DECAY_EMBED: 0.0
  WEIGHT_DECAY_NORM: 0.0
SUN:
  DATALOADER: {ASPECT_RATIO_GROUPING: false, FILTER_EMPTY_ANNOTATIONS: false, LOAD_PROPOSALS: false, NUM_WORKERS: 0, SAMPLER_TRAIN: TrainingSampler}
  INPUT:
    MAX_SIZE_TEST: 1024
    MIN_SIZE_TEST: 512
    PIXEL_MEAN: [123.675, 116.28, 103.53]
    PIXEL_STD: [58.395, 57.12, 57.375]
  TEST: {BATCH_SIZE_TOTAL: 8}
TEST:
  AUG: {ENABLED: false}
  EVAL_PERIOD: 500000
  PRECISE_BN: {ENABLED: false, NUM_ITER: 1}
VERBOSE: true
VLP:
  DATALOADER: {ASPECT_RATIO_GROUPING: true, FILTER_EMPTY_ANNOTATIONS: false, LOAD_PROPOSALS: false, NUM_WORKERS: 16, SAMPLER_TRAIN: TrainingSampler}
  INPUT:
    COLOR_AUG_SSD: false
    CROP: {ENABLED: true}
    DATASET_MAPPER_NAME: vlpretrain
    FORMAT: RGB
    IGNORE_VALUE: 255
    IMAGE_SIZE: 224
    MASK_FORMAT: polygon
    SIZE_DIVISIBILITY: 32
  TEST: {BATCH_SIZE_TOTAL: 256}
  TRAIN: {BATCH_SIZE_PER_GPU: 2, BATCH_SIZE_TOTAL: 2}
WEIGHT: ''
